<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>桉树林管理服务平台</title>
    <link rel="stylesheet" href="../static/css/reset.css">
    <link rel="stylesheet" href="../static/css/new_index.css">
</head>

<body>
    <div class="main">
        <div class="nav">桉树林管理服务平台</div>
        <div class="nav_btn">
            <div class="btn_left">
                <button class="active" style="font-size: 1.2vw;line-height: 40PX;">主页</button>
                <button style="width: 150px">生态环境<br>趋势分析</button>
                <button style="width: 150px">生态环境<br>质量分析</button>    
            </div>
            <div class="btn_right">
                <button style="width: 140px">多源调查<br>数据查询</button>       
                <a href="http://127.0.0.1:5000/GIS专题图分析模块">
                <div class="button" style="width: 140px;" >桉树林GIS<br>专题图分析</div>    
                </a>
                <a href="http://127.0.0.1:5000/数据查询统计分析模块">
                <div class="button" style="width: 140px;" >数据查询<br>统计分析</div>    
                </a>
            </div>
        </div>
        
        <!-- 主页 -->
        <div class="content" style="display: block;height:950px;">
            <div class="centerBox">
                <div class="baseBox centerMainBox1" style="height:70%">
                    <div class="baseBoxLeft left">
                        <div class="boxTitle">桉树林检测</div>
                        <img src="../static/img/left.png" class="first_border" alt="">
                        <div class="firstBox">
                            <div class="pic">
                                <img src="../static/img2/anshu_img.png" class="first_top1" alt="">
                                <img src="../static/img2/anshu_lable.png" class="first_top2" alt="">
                            </div>
                            <div class="picText">
                                <span>遥感图像</span>
                                <span class="text_second">预测结果</span>
                            </div>
                            <div class="voice_animation">
                                <canvas id="canvas">Your browser can not support canvas</canvas>
                            </div>
                            <div class="progress">
                                <span class="disease" style="font-size: 18px;margin-top: -0.5%;">预测</span>
                                <span class="similar" style="font-size: 13px;margin-top: 0.5%;">准确度:94%</span>
                                <img src="../static/img/progress.gif" alt="">
                            </div>
                            <div class="about_illness">
                                <div class="symptom">
                                    <div class="symptom_title" style="margin-left: 5%;margin-top: 1%;">数据介绍</div>
                                    <div class="symptom_content">数据使用大疆无人机拍摄的来自广西藤县、桂平市以及岑溪市的38张高分辨率遥感影像。</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- 地图 -->
                    <div class="baseBoxRight right">
                        <div class="maps">
                            <img src="../static/img/left.png" class="land_box" alt="">
                            <div class="boxTitlemap">广西壮族自治区地图</div>
                            <div class="map" id="map"></div>
                        </div>
                    </div>
                </div>
                <!-- 左侧下部 -->
                <div class="baseBox centerMainBox2" style="height:34%;width: 30%;top: -30px;">
                    <img src="../static/img/down.png" class="first_border" alt="">
                    <div class="boxTitle2" style="margin-top: 6%;">桉树林GIS专题图分析</div>
                    <div class="leftBottom" id="chart3" style="width: 100%;height: 80%"></div>
                </div>
            </div>
            <!-- 右侧 -->
            <div class="leftBox right" style="width:22%;height:950px; margin-top: 30px;">
                <div class="baseBox baseBox1" style="margin-bottom:15px;height:32%">
                    <img src="../static/img/right2.png" class="hardware" alt="">
                    <div class="boxTitle2" style="margin-top: 6%;">数据查询统计分析</div>
                    <div class="irrigate_data" id="chart0" style="width: 100;"></div>
                </div>
                <div class="baseBox baseBox2" style="margin-bottom:15px;height:32%">
                    <img src="../static/img/right2.png" alt="">
                    <div class="boxTitle2" style="margin-top: 6%;">多源调查数据查询</div>
                    <div class="irrigate_data" id="chart1"></div>
                </div>
                <div class="baseBox baseBox3" style="margin-bottom:15px;height:32%">
                    <img src="../static/img/right3.png" alt="">
                    <div class="boxTitle2" style="margin-top: 6%;">生态环境质量分析</div>
                    <div class="data_day" id="chart2" style="height: 80%;"></div>
                </div>
            </div>
        </div>

        <!-- 生态环境趋势分析 -->
        <div class="content">
            <!-- 左侧 -->
            <div class="baseBox baseBox4" style="margin:20px;height:400px;;width: 45%;margin-left:4%;margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%;">本月各区域AQI指数趋势分析</div>
                <div class="leftBottom" id="chart4" style="width: 100%;height:90%"></div>    
            </div>           
            <div class="baseBox baseBox3" style="margin:20px;height:400px;;width: 45%;margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">年降雨量和蒸发量趋势分析</div>
                <div class="leftBottom" id="chart5" style="width: 100%;height:90%"></div>    
            </div>
            <!-- 右侧 -->
            <div class="baseBox baseBox1" style="margin:20px;height:400px;;width: 45%;margin-left:4%; ">
                <img src="../static/img/right2.png" class="hardware" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">区域树种分类</div>
                <div class="irrigate_data" id="chart6" style="width: 100%;height: 100%"></div>
            </div>
            <div class="baseBox baseBox2" style="margin:20px;height:400px;;width: 45%; ">
                <img src="../static/img/right2.png" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树生长预测情况(2023年)</div>
                <div class="irrigate_data" id="chart7" style="width: 100%;height: 80%"></div>
            </div>
        </div>

        <!-- 生态环境质量分析 -->
        <div class="content">

            <!-- 左侧 -->
            <div class="baseBox baseBox4" style="margin:20px;height:400px;;width: 45%;margin-left: 4%;margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树种植区域气温变化图</div>
                <div class="leftBottom" id="chart8" style="width: 100%;height: 90%"></div>
            </div>           
            
            <div class="baseBox baseBox3" style="margin:20px;height:400px;;width: 45%;margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树种植区域年天气图</div>
                <div class="leftBottom" id="chart9" style="width: 100%;height: 90%"></div>
            </div>

            <!-- 右侧 -->
            <div class="baseBox baseBox1" style="margin:20px;height:400px;;width: 45%;margin-left:4%; ">
                <img src="../static/img/right2.png" class="hardware" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树种植区域雨量流量关系图</div>
                <div class="irrigate_data" id="chart10" style="width: 100%;height: 80%"></div>
            </div>

            <div class="baseBox baseBox2" style="margin:20px;height:400px;;width: 45%; ">
                <img src="../static/img/right2.png" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树种植区域AQI雷达图</div>
                <div class="irrigate_data" id="chart11" style="width: 100%;height: 80%"></div>
            </div>
      
        </div>

        <!-- 多源调查数据查询 -->
        <div class="content">
            <!-- 左侧 -->
            <div class="baseBox baseBox4" style="margin:20px;height:400px;;width: 45%;margin-left: 4%; margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">各类型桉树虫害占比</div>
                <div class="leftBottom" id="chart12" style="width: 100%;height: 90%"></div>
            </div>           
            
            <div class="baseBox baseBox3" style="margin:20px;height:400px;;width: 45%;margin-top:55px ">
                <img src="../static/img/right2.png" class="first_border" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">区域桉树生长情况</div>
                <div class="leftBottom" id="chart13" style="width: 100%;height: 90%"></div>
            </div>

            <!-- 右侧 -->
            <div class="baseBox baseBox1" style="margin:10px;height:400px;;width: 45%;margin-left:4%; ">
                <img src="../static/img/right2.png" class="hardware" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树数量统计</div>
                <div class="irrigate_data" id="chart14" style="width: 100%;height: 80%"></div>
            </div>

            <div class="baseBox baseBox2" style="margin:10px;height:400px;;width: 45%; margin-left:1.5%; ">
                <img src="../static/img/right2.png" alt="">
                <div class="boxTitle2" style="font-size: 20px;margin-top: 3.5%">桉树发育统计情况</div>
                <div class="irrigate_data" id="chart15" style="width: 100%;height: 80%"></div>
            </div>
      
        </div>

    </div>

</body>

<script src="../static/js/echarts.js" charset="utf-8"></script>
<script src="../static/js/jquery.min.js" charset="utf-8"></script>
<script src="../static/js/echarts-gl.js" charset="utf-8"></script>
<script src="../static/js/dataScoll.js"></script>
<!-- 主页部分 -->
<script src="../static/js/guangxi.js"></script>
<script src="../static/js/map.js"></script>
<script src="../static/js/chart.js" charset="utf-8"></script>

<!-- 页面跳转 -->
<script type="text/javascript">
    // 将按钮和盒子拿出来
    var btn = document.getElementsByTagName('button');
    var div = document.getElementsByClassName('content');
    // 每一个button上面绑定事件
    for(var n = 0; n < btn.length; n++) {
        //生成闭包的立即函数
        (function(i) {
            btn[n].onclick = function() {
                for(var m = 0; m < btn.length; m++) {
                    btn[m].className = ""; //清空效果
                    div[m].style.display = "none";
                }
                //当前点击的button设置变化
                this.className = "active";
                div[i].style.display = "block";
            }
        }(n))
    }
</script>

<!-- 动画  -->
<script>
    var doublePI = Math.PI * 2;
    var canvas;
    var ctx;

    //画布的高度的一半
    var halfCanvasHeight = 100;
    //水平边距
    var horizontalMargin = 150;

    //衰减系数(越大, 边缘衰减的就越多, 震动宽度相应也越窄)
    var attenuationCoefficient = 2;
    //半波长个数-1
    var halfWaveCount = 20;
    //振幅是画布高度的一般的百分比[0,1]
    var amplitudePercentage = 0.3;
    //每帧增加的弧度[0,2PI](作用于sin曲线, 正值相当于原点右移, 曲线左移)
    var radianStep = 0.4;

    //当前弧度的偏移
    var radianOffset = 0;
    //画布宽度
    var canvasWidth;

    function init() {
        canvas = document.getElementById("canvas");
        ctx = canvas.getContext("2d");
        window.addEventListener("resize", onResize);

        canvas.height = halfCanvasHeight * 2;
        onResize();
        loop();
    }

    function onResize() {
        //元素的大小不能加单位, 单位默认就是像素, 而style中的长度要加单位
        canvasWidth = canvas.width = window.innerWidth - horizontalMargin;
    }

    //设K=attenuationCoefficient, 计算信号衰减 (4K/(4K+x^4))^2K<=1 (x belong [-K,K])
    function calcAttenuation(x) {
        return Math.pow(4 * attenuationCoefficient / (4 * attenuationCoefficient + Math.pow(x, 4)), 2 * attenuationCoefficient);
    }

    //heightPercentage为振幅的显示比例
    function drawAcousticWave(heightPercentage, alpha, lineWidth) {
        ctx.strokeStyle = "white";
        ctx.globalAlpha = alpha;
        ctx.lineWidth = lineWidth || 1;
        ctx.beginPath();
        ctx.moveTo(0, halfCanvasHeight);
        var x, y;
        for (var i = -attenuationCoefficient; i <= attenuationCoefficient; i += 0.01) {
            //i是当前位置相对于整个长度的比率( x=width*(i+K)/(2*K))
            x = canvasWidth * (i + attenuationCoefficient) / (2 * attenuationCoefficient);
            //加offset相当于把sin曲线向右平移
            y = halfCanvasHeight + halfCanvasHeight * amplitudePercentage * calcAttenuation(i) * heightPercentage * Math.sin(halfWaveCount * i + radianOffset);
            ctx.lineTo(x, y);
        }
        ctx.stroke();
    }

    function loop() {
        radianOffset = (radianOffset + radianStep) % doublePI;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        drawAcousticWave(1, 1, 2);
        for (var i = 2; i < 4; i++) {
            var reciprocal = 1 / i;
            drawAcousticWave(reciprocal, reciprocal / 4);
            drawAcousticWave(-reciprocal, reciprocal / 4);
        }
        requestAnimationFrame(loop);
    }

    init();
    setInterval(function() {
        numInit();
    }, 6500)

    setInterval(function() {
        numInit();
        numInit1();
        numInit2();
    }, 6000)
</script>

</html>